---
title: 虚拟内存概念
categories: Develop
tags:
  - Linux
  - 操作系统
  - 内核
  - 内存
  - 进程
---

## 进程的虚拟内存


虚拟内存空间存储着进程需要用到的各种数据和指令。所以虚拟内存空间是为进程而设计的一种抽象内存概念，每个进程都有自己的虚拟内存空间，仿佛自己在独占电脑的物理内存一样。

GCC对源码进行编译时，给编译后的程序分配的便是虚拟空间，编译时程序并为运行，就没有映射物理地址。

在32位操作系统下最物理内存大寻址空间为4G，所以每个进程虚拟内存空间也最大为4G。这里要注意，一个进程的虚拟内存空间占用大小不代表实际运行占有物理内存空间大小（想想也知道阿，如果虚拟内存空间==实际上占用空间，那么运行2个进程岂不是要8G，4个就需要16G？不存在的...）。

所有进程共享同一物理内存，每个进程只把自己目前需要的虚拟内存空间那块数据映射并存储到物理内存上。


虚拟内存的概念是操作系统安全构成重要的一部分。如：当一个程序指针读写出错，其造成的文件读写错误限制在其虚拟内存那一小块区域里，不影响其他正常的进程。
